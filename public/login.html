<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Botnet Admin - Login</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
    </head>
    <body
        class="bg-gradient-to-br from-gray-900 via-purple-900 to-black min-h-screen flex items-center justify-center"
    >
        <div
            class="bg-black bg-opacity-50 backdrop-blur-lg p-8 rounded-xl border border-purple-500 shadow-2xl w-96"
        >
            <div class="text-center mb-6">
                <i class="fas fa-user-shield text-6xl text-purple-500 mb-4"></i>
                <h1 class="text-3xl font-bold text-white mb-2">ADMIN ACCESS</h1>
                <p class="text-gray-400">Coffin Panel 1.0</p>
            </div>

            <form onsubmit="login(event)" class="space-y-4">
                <div>
                    <label class="text-gray-300 text-sm mb-2 block">
                        <i class="fas fa-key mr-2"></i>Access Key
                    </label>
                    <input
                        type="password"
                        id="token"
                        class="w-full bg-gray-800 text-white px-4 py-3 rounded-lg border border-purple-600 focus:border-purple-400 focus:outline-none"
                        placeholder="Enter your access key"
                        required
                    />
                </div>

                <button
                    type="submit"
                    class="w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg font-semibold transition-all transform hover:scale-105"
                >
                    <i class="fas fa-sign-in-alt mr-2"></i>ACCESS PANEL
                </button>
            </form>

            <p class="text-center text-gray-500 text-xs mt-4">
                Unauthorized access will be logged
            </p>
        </div>

        <script>
            async function login(e) {
                e.preventDefault();
                const password = document.getElementById("token").value;

                try {
                    const res = await fetch("/login", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ password }),
                    });

                    const data = await res.json();

                    if (data.success) {
                        localStorage.setItem("botnet_session", data.token);
                        window.location.href = "/";
                    } else {
                        alert("Invalid access key!");
                    }
                } catch (err) {
                    alert("Login failed! Please try again.");
                }
            }
        </script>
    </body>
</html>
